<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wordle Game</title>
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" rel="stylesheet">
    <style>
        .wordle-row {
            display: flex;
            justify-content: center;
            margin: 5px 0;
        }
        .wordle-cell {
            width: 40px;
            height: 40px;
            border: 2px solid #ccc;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            font-weight: bold;
            margin: 0 2px;
            text-transform: uppercase;
        }
        .correct {
            background-color: green;
            color: white;
        }
        .present {
            background-color: yellow;
            color: black;
        }
        .absent {
            background-color: lightgray;
        }
    </style>
</head>
<body>
    <div class="container text-center">
        <h1 class="my-4">PINOY Wordle Game</h1>
        <div id="wordle-board"></div>
        <div class="input-group my-3">
            <input type="text" id="guess-input" class="form-control" maxlength="5" placeholder="Enter your guess">
            <div class="input-group-append">
                <button class="btn btn-primary" id="submit-guess">Submit</button>
            </div>
        </div>
        <div id="message" class="mt-3"></div>
    </div>

    <script>
        document.addEventListener("DOMContentLoaded", () => {
            const board = document.getElementById('wordle-board');
            const guessInput = document.getElementById('guess-input');
            const submitGuess = document.getElementById('submit-guess');
            const message = document.getElementById('message');

            const words = ["Alpas",
                            "Alimpuyok",
                            "Balintataw",
                            "Balisbis",
                            "Dalumat",
                            "Dungis",
                            "Duyog",
                            "Halaghag",
                            "Himaton",
                            "Huwad",
                            "Iral",
                            "Kaluskos",
                            "Kislap",
                            "Kupas",
                            "Lantay",
                            "Lupig",
                            "Mabalasik",
                            "Magara",
                            "Magayon",
                            "Mahapdi",
                            "Makatao",
                            "Malambing",
                            "Malasakit",
                            "Maligamgam",
                            "Maligaya",
                            "Mapanglaw",
                            "Mapanlikha",
                            "Masalimuot",
                            "Masigasig",
                            "Masukal",
                            "Matamlay",
                            "Matalinhaga",
                            "Matiwasay",
                            "Matwid",
                            "Nabansot",
                            "Naglalagablab",
                            "Nakakakilabot",
                            "Nakakapangilabot",
                            "Nalalabi",
                            "Namumutawi",
                            "Natitirang",
                            "Nilalambing",
                            "Pagsamo",
                            "Palamuting",
                            "Palasyo",
                            "Pangarap",
                            "Pangungulila",
                            "Panlumo",
                            "Paraluman",
                            "Pasakit",
                            "Pasya",
                            "Patagilid",
                            "Patalim",
                            "Piling",
                            "Pinagtagpi-tagpi",
                            "Pinagbuklod",
                            "Pinaghuhugutan",
                            "Pinaglalaanan",
                            "Pinagmamaktol",
                            "Pinagpipitaganan",
                            "Pinagtutulungan",
                            "Pinahihirapan",
                            "Pinakamakapal",
                            "Pinakamakulay",
                            "Pinakamakulit",
                            "Pinakamasarap",
                            "Pinakamatamis",
                            "Pinakamatindi",
                            "Pinakamayaman",
                            "Pinakamura",
                            "Pinapanalangin",
                            "Pinapatid",
                            "Pinaputukan",
                            "Pinariwara",
                            "Pinasok",
                            "Pinilit",
                            "Pintig",
                            "Pukyutan",
                            "Pusong-bato",
                            "Pusong-mamon",
                            "Salansan",
                            "Sambit",
                            "Sanlibutan",
                            "Saysay",
                            "Sigla",
                            "Silakbo",
                            "Silong",
                            "Singkaw",
                            "Siyasatin",
                            "Sugat",
                            "Suliranin",
                            "Sulyap",
                            "Sumasalungat",
                            "Sumpa",
                            "Taginting",
                            "Takipsilim",
                            "Talampas",
                            "Talinhaga",
                            "Talumpati",
                            "Tanglaw",
                            ];
            const targetWord = words[Math.floor(Math.random() * words.length)];
            const maxAttempts = 6;
            let currentAttempt = 0;

            function createBoard() {
                for (let i = 0; i < maxAttempts; i++) {
                    const row = document.createElement('div');
                    row.classList.add('wordle-row');
                    for (let j = 0; j < targetWord.length; j++) {
                        const cell = document.createElement('div');
                        cell.classList.add('wordle-cell');
                        row.appendChild(cell);
                    }
                    board.appendChild(row);
                }
            }

            function checkGuess(guess) {
                const result = [];
                const targetWordArr = targetWord.split('');

                // First pass for correct letters
                for (let i = 0; i < guess.length; i++) {
                    if (guess[i] === targetWord[i]) {
                        result.push('correct');
                        targetWordArr[i] = null;  // Mark this letter as used
                    } else {
                        result.push(null);
                    }
                }

                // Second pass for present letters
                for (let i = 0; i < guess.length; i++) {
                    if (result[i] !== 'correct' && targetWordArr.includes(guess[i])) {
                        result[i] = 'present';
                        targetWordArr[targetWordArr.indexOf(guess[i])] = null;  // Mark this letter as used
                    } else if (result[i] !== 'correct') {
                        result[i] = 'absent';
                    }
                }

                return result;
            }

            function updateBoard(guess, result) {
                const row = board.children[currentAttempt];
                for (let i = 0; i < guess.length; i++) {
                    const cell = row.children[i];
                    cell.textContent = guess[i];
                    cell.classList.add(result[i]);
                }
            }

            function handleGuess() {
                const guess = guessInput.value.trim().toLowerCase();
                if (guess.length !== targetWord.length) {
                    message.textContent = `Guess must be ${targetWord.length} letters long.`;
                    return;
                }

                const result = checkGuess(guess);
                updateBoard(guess, result);
                currentAttempt++;

                if (guess === targetWord) {
                    message.textContent = 'Congratulations! You guessed the word!';
                    guessInput.disabled = true;
                    submitGuess.disabled = true;
                } else if (currentAttempt >= maxAttempts) {
                    message.textContent = `Game over! The word was: ${targetWord}`;
                    guessInput.disabled = true;
                    submitGuess.disabled = true;
                } else {
                    message.textContent = '';
                }

                guessInput.value = '';
            }

            createBoard();

            submitGuess.addEventListener('click', handleGuess);
            guessInput.addEventListener('keypress', (e) => {
                if (e.key === 'Enter') {
                    handleGuess();
                }
            });
        });
    </script>
</body>
</html>
